---
phase: 03-scoring-+-report
plan: 05
type: execute
wave: 3
depends_on:
  - 03-04
files_modified:
  - src/report/components/WarningList.tsx
  - src/report/components/RecommendationList.tsx
  - src/report/components/LadderComparison.tsx
  - src/App.css
autonomous: true

must_haves:
  truths:
    - "WarningList displays best-practice warnings with severity indicators"
    - "RecommendationList shows actionable recommendations with variant details"
    - "LadderComparison shows before/after ladder side-by-side"
    - "All components styled consistently with existing UI"
  artifacts:
    - path: "src/report/components/WarningList.tsx"
      provides: "Warning list with severity badges"
      exports: ["WarningList"]
    - path: "src/report/components/RecommendationList.tsx"
      provides: "Recommendation list with action buttons"
      exports: ["RecommendationList"]
    - path: "src/report/components/LadderComparison.tsx"
      provides: "Side-by-side ladder comparison"
      exports: ["LadderComparison"]
  key_links:
    - from: "WarningList"
      to: "src/types/scoring.ts"
      via: "Warning type import"
    - from: "RecommendationList"
      to: "src/types/scoring.ts"
      via: "Recommendation type import"
    - from: "LadderComparison"
      to: "src/types/analysis.ts"
      via: "LadderResult type import"
---

<objective>
Create report content components for warnings, recommendations, and ladder comparison.

Purpose: Build the remaining report UI components that display scoring warnings, actionable recommendations, and a side-by-side ladder comparison showing current vs recommended configurations.

Output: Complete warning list, recommendation list, and ladder comparison components with full styling.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-scoring-+-report/03-RESEARCH.md
@src/types/scoring.ts
@src/types/analysis.ts
@src/components/LadderTable.tsx
@src/App.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build warning and recommendation list components</name>
  <files>
    src/report/components/WarningList.tsx
    src/report/components/RecommendationList.tsx
  </files>
  <action>
Create warning and recommendation display components:

**src/report/components/WarningList.tsx:**
Props interface:
```typescript
interface WarningListProps {
  warnings: Warning[]
  maxHeight?: number // for scrollable container
}
```

Implementation:
- If no warnings, show "No warnings - great job!" message
- Group warnings by severity (error, warning, info)
- For each warning:
  - Severity badge (colored: red error, yellow warning, blue info)
  - Warning message (bold)
  - Hint text (smaller, muted color)
- Use consistent list styling with ValidationPanel from Phase 1
- Container with className "warning-list"

**src/report/components/RecommendationList.tsx:**
Props interface:
```typescript
interface RecommendationListProps {
  recommendations: Recommendation[]
  showDetails?: boolean // default true
}
```

Implementation:
- If no recommendations, show "No recommendations - ladder looks good!"
- Group by severity (critical, warning, suggestion)
- For each recommendation:
  - Severity indicator (dot or badge)
  - Type badge (add_variant, remove_variant, modify_variant, general)
  - Message (main text)
  - Details (smaller, expandable or always shown based on showDetails)
  - For variant recommendations:
    - Show current → suggested change
    - Format: "240p @ 400 Kbps → 360p @ 800 Kbps"
- Use card-style layout for each recommendation
- Container with className "recommendation-list"

Import from `../../types/scoring`.
  </action>
  <verify>npm run build compiles; components render with sample data</verify>
  <done>WarningList and RecommendationList components created with proper styling</done>
</task>

<task type="auto">
  <name>Task 2: Build ladder comparison component and add CSS</name>
  <files>
    src/report/components/LadderComparison.tsx
    src/App.css
  </files>
  <action>
Create ladder comparison and add all report styling:

**src/report/components/LadderComparison.tsx:**
Props interface:
```typescript
interface LadderComparisonProps {
  current: LadderResult
  recommended: LadderResult
  showAudio?: boolean // default true
}
```

Implementation:
- Two-column layout: "Current Ladder" | "Recommended Ladder"
- Each column shows:
  - Header with variant count
  - Table of video variants (bitrate, resolution, codecs)
  - Optional audio variants section
- Highlight differences:
  - Added variants: green background or "+" indicator
  - Removed variants: red strikethrough or "-" indicator
  - Modified variants: yellow highlight with old→new values
- Use similar table structure to LadderTable component
- If ladders are identical, show "No changes recommended"
- Container with className "ladder-comparison"

**CSS additions to src/App.css:**
Add styles for report components:

```css
/* Warning List */
.warning-list { }
.warning-item { }
.warning-severity-error { }
.warning-severity-warning { }
.warning-severity-info { }

/* Recommendation List */
.recommendation-list { }
.recommendation-item { }
.recommendation-type-add { }
.recommendation-type-remove { }
.recommendation-type-modify { }
.recommendation-severity-critical { }
.recommendation-severity-warning { }
.recommendation-severity-suggestion { }
.recommendation-variant-change { }

/* Ladder Comparison */
.ladder-comparison { }
.ladder-comparison-column { }
.ladder-variant-added { }
.ladder-variant-removed { }
.ladder-variant-modified { }

/* Score Colors */
.score-excellent { color: var(--success); }
.score-good { color: var(--success); }
.score-fair { color: var(--warning); }
.score-poor { color: var(--error); }
```

Follow existing CSS patterns (surface backgrounds, border-radius, padding).
  </action>
  <verify>npm run build compiles; CSS loads without errors</verify>
  <done>LadderComparison component created, all report styles added to App.css</done>
</task>

</tasks>

<verification>
- [ ] WarningList displays warnings grouped by severity with badges
- [ ] RecommendationList shows recommendations with type badges and variant details
- [ ] LadderComparison shows side-by-side comparison with change highlighting
- [ ] All components handle empty states gracefully
- [ ] CSS styles added for all report components
- [ ] Build succeeds with no TypeScript errors
</verification>

<success_criteria>
- WarningList presents warnings clearly with severity indicators
- RecommendationList shows actionable items with variant changes
- LadderComparison highlights differences between current and recommended
- Components integrate with existing design system
- Full CSS styling for all report elements
</success_criteria>

<output>
After completion, create `.planning/phases/03-scoring-+-report/03-05-SUMMARY.md`
</output>
